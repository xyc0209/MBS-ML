import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

data = {
    'Feature': ['codeSize', 'entityNum', 'entityAttributeNum', 'aveEntityAttribute', 'controllerNum', 'interfaceNum', 'abstractClassNum', 'serviceClassNum', 'dtoObjectNum', 'APINum', 'APIVersionNum', 'maxParaNum', 'serviceImplCallNum', 'maxServiceCall', 'serviceCallPer', 'maxServiceCalled', 'serviceCalledPer'],
    'MS': [0.609650524, -0.136742213, -0.118668987, -0.259224219, 0.688376936, 0.056149472, 0.457990394, 0.083375171, 0.001867733, 0.652372053, -0.191077888, 0.431678389, 0.470779009, -0.253248694, -0.261248786, -0.306329279, -0.305129709],
    'NS': [-0.451557813, -0.320418987, -0.323886717, -0.276243964, -0.342500309, -0.349162793, -0.12749523, -0.259834277, -0.048869526, -0.42235017, -0.123603956, -0.302412344, -0.350661454, -0.125174386, -0.092511261, -0.117155711, -0.105176689],
    'MG': [-0.159932842, -0.099461417, -0.099911682, -0.054982424, -0.083279968, -0.08905439, -0.057836652, -0.048102527, -0.032354226, -0.133938952, 0.036511531, -0.015411475, -0.094000367, -0.042732425, -0.023391776, 0.136262057, 0.155395644],
    'BS': [0.293561353,0.181762791,0.180092457,-0.084586298,0.362607216,0.182401012,0.253831232,-0.119718588,0.074784484,0.353528563,0.113219721,0.375884876,0.177043872,-0.13057356,-0.125172461,-0.144662148,-0.140920158],
    'CS': [0.0565014,-0.041683161,-0.035169427,-0.018800177,0.127770275,0.046499721,-0.075025946,0.063615276,0.19910401,0.142861723,-0.06765773,0.035255158,0.074894321,0.311751464,0.280267021,0.022096992,0.021971803],
    'BOS': [-0.059115203,-0.021676146,0.000749395,0.151764899,0.028174012,0.054639024,-0.103868955,0.056445282,0.124038163,-0.012095545,-0.090083083,-0.103142541,0.008221667,-0.098606362,-0.10860778,0.359854664,0.418684595],
    'SC': [-0.01437394,-0.013536216,0.000891127,0.007017549,0.137371737,0.021589878,-0.121344022,0.056031403,0.239171985,0.058821298,-0.063089848,-0.07036578,0.036050351,0.463249844,0.447460538,0.027328804,0.043332433]}

df = pd.DataFrame(data)

# 将特征作为行索引
df.set_index('Feature', inplace=True)

# 绘制热力图
fig, ax = plt.subplots(figsize=(12, 8))
sns.heatmap(df, cmap='coolwarm', annot=True, fmt=".2f", linewidths=0.5, ax=ax)
ax.set_ylim(len(df), 0)  # 翻转y轴坐标，使特征名称从上到下显示
plt.tight_layout(rect=[0, 0, 1, 1])  # 调整子图布局，设置右边空白为0.15

plt.savefig('heatmap.jpg', dpi=300)
plt.show()